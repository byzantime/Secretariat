{% from "macros/flash_messages.html" import flash_messages %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Apparat{% endblock %}</title>
    <!-- CSS Assets -->
    {% assets "css_all" %}<link href="{{ ASSET_URL }}" rel="stylesheet">{% endassets %}
    {% block extra_head %}{% endblock %}
</head>
<body class="overflow-x-hidden"
      hx-log="true"
      hx-ext="sse"
      sse-connect="{{ url_for('main.chat_events') }}"
      sse-close="close">
    {% block body %}

    {{ flash_messages() }}

    <div id="main-content" class="w-full overflow-x-hidden">
        <!-- Main content area -->
        {% block content %}{% endblock %}

        <!-- Footer -->
        {% block footer %}
        {% endblock %}
    </div>
    {% endblock body %}

    <!-- JavaScript Assets -->
    {% assets "js_all" %}<script src="{{ ASSET_URL }}" defer></script>{% endassets %}

    <!-- Flash Messages Hyperscript Functions -->
    <script type="text/hyperscript">
      def dismissToast(toast)
        add .translate-x-full to toast
        add .opacity-0 to toast
        wait 300ms
        remove toast
      end
    </script>

    {% block scripts %}{% endblock %}
</body>
</html>
