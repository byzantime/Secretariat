{% from "macros/ui_message_update.html" import ui_message_update %}

{% macro ui_message(sender, content, message_id, timestamp) %}
{#
  Renders a UI message with timestamp for streaming LLM responses

  Args:
    sender: The sender name (e.g., "Assistant", "You")
    content: The message content
    message_id: Unique ID for HTMX targeting
    timestamp: The datetime object to format
#}
<div class="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4">
    <div class="flex justify-between items-start mb-2">
        <div class="font-semibold text-gray-800">{{ sender }}</div>
        <div class="text-xs text-gray-500 font-mono">{{ timestamp | dt_format('%H:%M:%S') }}</div>
    </div>
    {{ ui_message_update(content, message_id) }}
</div>
{% endmacro %}

{{ ui_message(sender, content, message_id, timestamp) }}
